<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI/ML in Agriculture - Interactive Learning Platform</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/enhancements.css">
    <link rel="stylesheet" href="css/quiz.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Firebase SDKs (Compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-seedling"></i>
                <h1>AI/ML in Agriculture</h1>
            </div>
            <nav class="main-nav">
                <!-- User Auth Section -->
                <div id="userAuth" class="user-auth" style="margin-right: 15px; display: flex; align-items: center;">
                    <button id="loginBtn" class="auth-btn" onclick="loginWithGoogle()">
                        <i class="fab fa-google"></i> Login
                    </button>
                    <div id="userProfile" class="user-profile" style="display: none; align-items: center; gap: 10px;">
                        <span id="userName" style="font-weight: 500;">User</span>
                        <img id="userAvatar" src="" alt="Avatar" style="width: 32px; height: 32px; border-radius: 50%;">
                        <button id="logoutBtn" class="" onclick="logoutUser()" title="Logout"
                            style="background:none; border:none; color:inherit; cursor:pointer;">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>

                <a href="dashboard.html" class="dashboard-link" title="View Progress Dashboard">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="progress-overview">
                <h3>Your Progress</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="overallProgress"></div>
                </div>
                <span class="progress-text" id="progressText">0% Complete</span>
            </div>

            <nav class="course-nav" id="courseNav">
                <!-- Will be populated by JavaScript -->
            </nav>
        </aside>

        <!-- Content Area -->
        <main class="content-area" id="contentArea">
            <!-- Welcome Screen -->
            <div id="welcomeScreen" class="welcome-screen">
                <div class="hero">
                    <h1>Welcome to AI/ML in Agriculture</h1>
                    <p class="subtitle">Transform farming with artificial intelligence and machine learning</p>
                    <div class="features">
                        <div class="feature-card">
                            <i class="fas fa-book-open"></i>
                            <h3>100+ Interactive Topics</h3>
                            <p>Comprehensive modules covering AI/ML fundamentals to capstone projects</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-code"></i>
                            <h3>Comprehensive Handouts</h3>
                            <p>All-in-one learning materials with code demos, activities, and assessments</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-book"></i>
                            <h3>Continuous Story</h3>
                            <p>Follow Maya's journey from struggling farmer to AI innovator</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-graduation-cap"></i>
                            <h3>Assessments</h3>
                            <p>Quizzes and activities to reinforce your learning</p>
                        </div>
                    </div>
                    <button class="cta-button" onclick="router.navigate('module-1-topic-1')">
                        Start Learning <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Module Overview (New View) -->
            <div id="moduleOverview" class="module-overview" style="display: none;">
                <div class="module-hero">
                    <h1 id="moduleTitleDisplay">Module Title</h1>
                    <p class="module-subtitle">Course Syllabus & Resources</p>
                </div>

                <div class="module-grid">
                    <div class="module-card objectives">
                        <h3><i class="fas fa-bullseye"></i> Objectives</h3>
                        <ul id="moduleObjectives"></ul>
                    </div>

                    <div class="module-card outcomes">
                        <h3><i class="fas fa-check-circle"></i> Outcomes</h3>
                        <ul id="moduleOutcomes"></ul>
                    </div>

                    <div class="module-card resources">
                        <h3><i class="fas fa-book"></i> Reference Material</h3>
                        <h4>Textbooks</h4>
                        <ul id="moduleTextbooks"></ul>
                        <h4>References</h4>
                        <ul id="moduleReferences"></ul>
                    </div>

                    <div class="module-card video-links">
                        <h3><i class="fab fa-youtube"></i> Video Lectures</h3>
                        <ul id="moduleYoutube"></ul>
                    </div>
                </div>
            </div>

            <!-- Topic Content (will be dynamically loaded) -->
            <div id="topicContent" class="topic-content" style="display: none;">
                <!-- Story Section -->
                <div class="story-section" id="storySection">
                    <div class="story-header">
                        <i class="fas fa-book-reader"></i>
                        <h2>Maya's Journey</h2>
                    </div>
                    <div class="story-content" id="storyContent"></div>
                </div>

                <!-- Main Content Tabs - Handout Only -->
                <div class="content-tabs">
                    <button class="tab-btn active" data-tab="handout"><i class="fas fa-file-alt"></i> Handout</button>
                    <!-- Quiz tab removed as per Handout-Only requirement -->
                </div>

                <!-- Tab Content -->
                <div class="tab-content">
                    <div id="handout" class="tab-panel active"></div>
                    <div id="quiz" class="tab-panel"></div>
                </div>

                <!-- Navigation Buttons -->
                <div class="topic-navigation">
                    <button class="nav-btn prev-btn" id="prevBtn">
                        <i class="fas fa-chevron-left"></i> Previous
                    </button>
                    <button class="nav-btn mark-complete-btn" id="markCompleteBtn">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                    <button class="nav-btn next-btn" id="nextBtn">
                        Next <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/comprehensive-structure.js"></script>
    <script src="js/module-content.js"></script>
    <script src="js/lecture-content.js"></script>
    <script src="js/lab-content.js"></script>
    <script src="js/activity-content.js"></script>
    <script src="js/content.js"></script>
    <script src="js/story.js"></script>
    <script src="js/progress.js"></script>
    <script src="js/quiz.js"></script>
    <script src="js/firebase-config.js"></script>
    <script>
        // Start Firebase
        document.addEventListener('DOMContentLoaded', initFirebase);
    </script>
    <script src="js/router.js"></script>
    <script src="js/app.js"></script>
</body>

</html>